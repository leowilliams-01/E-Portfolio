---
title: "LiDAR Boulder Project"
format: html
editor: visual
---

## Goals

This is a personal project trying to find new bouldering zones in Squamish, BC. I am using publicly available LiDAR datasets (LidarBC) to create high resolution Digital Terrain Models (DTMs). 3D renders of these DTMs allow for terrain below the forest canopy to be studied and find hidden boulders!

In order to both create the DTMs and vizualize them I rely on the lidR package in R studio.

## What it looks like

This may take a while to get running because there's billions of points in this point cloud...

```{r, echo=FALSE,warning=FALSE,message=FALSE}

library(lidR)

apronbloc <- readLAS("C:/Users/lwill01.stu/OneDrive - UBC/Documents/GitHub/E-Portfolio/data/squam_laz/apron_laz.laz")
apron_dtm <- rasterize_terrain(apronbloc, 0.3, tin())

```

The first step is creating a DTM so we can see whats going on at the surface below the forest canopy.

Here is my DTM in 2D. You can see the areas of increased elevation where the bigger boulders are.

```{r,warning=FALSE}
plot(apron_dtm)
```

It is way more fun, and easier to see whats going on in 3D. The biggest boulder here is the Cacodemon boulder in Squamish with loads of famous routes on it.

```{r,echo=FALSE,message=FALSE,warning=FALSE}



library(rgl)
library(htmltools)

plot_dtm3d(apron_dtm)

htmlwidgets::saveWidget(
  rglwidget(),
  "dtm3d.html",
  selfcontained = FALSE
)

rgl.close()


```

```{=html}
<iframe src="dtm3d.html"
        width="100%"
        height="600"
        style="border:0;">
</iframe>
```

The same workflow can be replicated anywhere as long as the LiDAR data exists.
